@using VideoGameCompendium.Models;
@using VideoGameCompendium.Controllers;
@inject Microsoft.AspNetCore.Http.IHttpContextAccessor HttpContextAccessor
@model Game

@section AddToHead
    {
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <script src="~/Scripts/ratingScript.js"></script>
    <script src="~/Scripts/collectionScript.js"></script>
}

@section Title
    {
    Home
}


<div class="row">
    <div class="column"><img src="@Model.Image" /></div>
    <partial name="_RatingBar" model="new Tuple<Game, string> (Model, ViewBag.User?.ID)" />
    <div class="dubleColumn">@Model.Description</div>
</div>

<partial name="_CollectionButton" model="new Tuple<Game, User> (Model, ViewBag.User)" />

<div>
	<form method="post" action="~/Home/PostCommentGame">
		Make Comment:
		<input type="text" name="text" placeholder="Text" />
		<input type="hidden" name="userId" value="@ViewBag.User.ID" />
		<input type="hidden" name="gameId" value="@Model.Id" />
		<input type="submit" value="Submit" />
	</form>

	@if (ViewBag.Comments != null)
	{
		<div>
			@foreach (Comment comment in ViewBag.Comments)
			{
				<partial name="_DisplayCommentPartial" model="comment" />
			}
		</div>
	}
</div>

